import{a as L,S,i as f}from"./assets/vendor-eded45c0.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=t(e);fetch(e.href,a)}})();function d(n){return n.map(({webformatURL:o,largeImageURL:t,tags:s,likes:e,views:a,comments:c,downloads:b})=>`
    <li class="gallery-card">
        <a class="card-link" href="${t}">
            <img class="image" src="${o}" alt="${s}"></a>
        <ul class="card-description">
            <li><p class="name">Likes</p>
            <p class="value">${e}</p></liss=>
            <li><p class="name">Views</p>
            <p class="value">${a}</p></li>
            <li><p class="name">Comments</p>
            <p class="value">${c}</p></li>
            <li><p class="name">Downloads</p>
            <p class="value">${b}</p></li>
        </ul>
    </li>
    `).join("")}function y(n){const o="https://pixabay.com/api/",t="43226276-a07a0c17e428cfffb021b9b05",s=new URLSearchParams({key:t,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15});return L.get(`${o}?${s.toString()}`).then(e=>{if(!e.data)throw new Error(e.status);return e.data}).catch(e=>{throw new Error("Request failed with status:"+e.response.status)})}const i=document.querySelector(".form"),m=document.querySelector(".input"),l=document.querySelector(".loader");l.style.display="none";const g=document.querySelector(".gallery"),r=document.querySelector(".load-button");r.style.display="none";const p=new S(".gallery a",{captions:!0,captionsData:"alt",captionDelay:250}),h=15;let u=1;i.addEventListener("submit",w);r.addEventListener("click",P);async function w(n){n.preventDefault(),l.style.display="block",g.innerHTML="";const o=m.value.trim();if(o===""){l.style.display="none",r.style.display="none",i.reset(),p.refresh(),f.info({message:"Looks like you forgot to fill in the search query...",messageColor:"#fafafb",messageSize:"16px",messageLineHeight:"1.5",position:"topRight"});return}try{const t=await y(o,u),s=Math.ceil(t.totalHits/h);l.style.display="none",s===0?(r.style.display="none",p.refresh(),i.reset(),f.error({message:"Sorry, there are no images matching your search query. Please, try again!",messageColor:"#fafafb",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topRight"})):s===1?(r.style.display="none",g.innerHTML=d(t.hits),p.refresh(),i.reset()):s>1&&(r.style.display="block",g.insertAdjacentHTML("beforeend",d(t.hits)),i.reset())}catch{l.style.display="none",r.style.display="none",p.refresh(),i.reset(),f.error({message:"Oops! Something went wrong... Please, try again!",messageColor:"#fafafb",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topRight"})}}async function P(n){n.preventDefault();const o=m.value.trim();u++;try{const t=await y(o,u),s=Math.ceil(t.totalHits/h);g.insertAdjacentHTML("beforeend",d(t.hits)),console.log("all pages"+s),console.log("this page"+u),u===s&&(r.style.display="none",f.info({message:"We're sorry, but you've reached the end of search results.",messageColor:"#fafafb",messageSize:"16px",messageLineHeight:"1.5",position:"topRight"}))}catch{l.style.display="none",r.style.display="none",p.refresh(),i.reset(),f.error({message:"Oops! Something went wrong... Please, try again!",messageColor:"#fafafb",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topRight"})}}
//# sourceMappingURL=commonHelpers.js.map
